<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>FastCopy Help</title>

<style type="text/css">
<!--
.help_head1 {
	color:#ff5555;
	background-color:#0000cc;
}
.help_head2 {
	color:white;
	background-color:#0000cc;
	margin-bottom:10px;
}
.help_head3 {
	color:white;
	background-color:#0000cc;
	margin-bottom:5px;
}
.help_head4 {
	color:white;
	background-color:#0000cc;
	margin-bottom:5px;
}
.help_head5 {
	margin-bottom:0px;
}
.help_table {
	border-style:solid;
	border-collapse: separate;
	background-color: #ddffdd;
	border-color: #aaaaaa;
	font-size: 95%;
}
.help_table_mini {
	font-size: 90%;
	margin: 10px;
}
.tr_default {
	background-color: #aaffaa;
}
.help_all {
	font-size: 95%;
}
.help_section {
	margin-left:25px;
	margin-bottom:30px;
}
.help_sub_section {
	margin-left:10px;
	margin-bottom:10px;
}
.help_mini_section {
	background-color: #cccccc;
	padding:2%;
}
.help_mini_section2 {
	margin-top:3px;
	background-color: #eeffff;
	padding:2%;
}
.help_license {
	border-color:#777777; 
	border-style:solid; 
	padding:2%;
	background-color: #dddddd;
}
.help_license_cond {
	padding:5%;
}
.help_index {
	position: fixed;
	right: 2px;
	top: 2px;
	background-color: #eeffff;
	border-style:solid; 
	border-color:#777777; 
	overflow-y: scroll;
//	height: 200px;
	font-size: 70%;
}
-->
</style>
</head>
<body bgcolor="#eeffff">

<div align="center">
<h1 class="help_head1">FastCopy ver3.61</h1>
</div>
<div class="help_all">

<div align="right">2018/11/08 H.Shirouzu (白水啓章) & FastCopy Lab, LLC.</div>

<a name="index"/>
<h2 class="help_head2">Index</h2>
<div class="help_section">
	<a href="#about">1. 概要</a><br>
	<a href="#license">2. ライセンス</a><br>
	<a href="#environment">3. 動作環境</a><br>
	<a href="#install">4. インストール・アンインストール</a><br>
	<a href="#usage">5. 使用法＆画面説明</a><br>
		<div class="help_sub_section">
		<a href="#source_dst">1) Source/DestDir</a><br>
		　<a href="#backslash_behavior">DestDir末尾の'\'の意味</a><br>
		<a href="#mode">2) 動作モード</a><br>
		<a href="#buttons">3) ボタン＆オプション指定</a><br>
		<a href="#filter">4) フィルタ指定</a><br>
		<a href="#reparse">5) ジャンクション・他</a><br>
		<a href="#menus">6) メニュー項目</a>
		</div>
	<a href="#settings">6. 設定</a><br>
		<div class="help_sub_section">
		<a href="#gen_settings">1) 一般設定</a><br>
		<a href="#font">2) フォント設定</a><br>
		<a href="#finact">3) 終了時処理</a><br>
		<a href="#job">4) ジョブ管理</a>
		</div>
	<a href="#cmdline">7. コマンドラインモード</a><br>
	<a href="#warning">8. 注意（危険なところ）</a><br>
	<a href="#contact">9. サポート掲示板＆最新版</a><br>
	<a href="#misc">10. その他</a><br>
	<a href="#history">11. 履歴</a><br>
</div>

<a name="about"/>
<h2 class="help_head2">1. 概要</h2>
<div class="help_section">
	<strong>Windows系最速</strong> のファイルコピー＆バックアップツールです。
	<br><br>
	UNICODE でしか表現できないファイル名やMAX_PATH(260文字) を越えた位置のファイルもコピーできます。
	<br><br>
	<a name="disk_mode"/>
	自動的に、コピー元とコピー先が、同一のHDD(or SSD)に属するかを判定した後、以下の動作を行います。
	<table class="help_table" border="4">
		<tr><td nowrap><strong>別HDD間</strong></td><td>マルチスレッドで、読み込みと書き込みを並列に行う</td></tr>
		<tr><td nowrap><strong>同一HDD間</strong></td><td>コピー元から（バッファが一杯になるまで）連続
		読み込み後、コピー先に連続して書き込む</td></tr>
	</table>
	<br>
	Read/Write も、OS のキャッシュを全く使わないため、他のプロセス（アプリケーション）が重くなりにくくなっています。
	<br><br>
	可能な限り大きな単位で Read/Write するため、デバイスの限界に近いパフォーマンスが出ます。
	<br><br>
	Include/Exclude フィルタ（UNIXワイルドカード形式）が指定可能です。<br>
	（ver3.0以降、相対パス指定もできるようになりました）
	<br><br>
	MFC 等のフレームワークを使わず、Win32API だけで作っていますので、軽量＆コンパクト＆軽快に動作します。
	<br><br>
	全ソースコードは GPLv3 で公開していますので、VC++ 等をお持ちであれば、ご自由にカスタマイズしての利用も可能です。
	<br><br>
	<strong>ver3.0以降、設定ファイルは fastcopy.ini から <font color="red">fastcopy2.ini</font> に変更になり、文字コードも UTF-8 になりました</strong>
</div>

<a name="license"/>
<h2 class="help_head2">2. ライセンス</h2>
<div class="help_section">
	<div class="help_license">
	FastCopy ver3.x Copyright(C) 2004-2018 by SHIROUZU Hiroaki and FastCopy Lab, LLC.<br>
	<br>
	FastCopy ver3.x は GNU Public License ver3 のオープンソースソフトウェアです。<br>
	詳細は同梱の <a href="license-gpl3.txt">license-gpl3.txt</a> をご覧ください。<br>
	<br>
	</div><br>
	<div class="help_license">
	xxHash Library Copyright (c) 2012-2014, Yann Collet All rights reserved.<br>
	<a href="xxhash-LICENSE.txt">ライセンス詳細はこちら</a>。
	</div>
</div>

<a name="environment"/>
<h2 class="help_head2">3. 動作環境</h2>
<div class="help_section">
	Windows Vista/7/8/8.1/10<br>
	Windows Server 2008(&R2)/2012(&R2)/2016
</div>

<a name="install"/>
<h2 class="help_head2">4. インストール・アンインストール</h2>
<div class="help_section">
	<h3 class="help_head3">インストール</h3>
	<div class="help_sub_section">
		FastCopy3xx_installer.exe を実行して、任意のディレクトリにインストールしてください。<br>
		USB メモリ等に格納して使用する場合は、インストーラの「展開のみ」ボタンを押して、FastCopy.exe等を取り出してください。<br>
		/h オプションを付けると、/silent や /extract 等のオプションが表示されます。
	</div>

	<h3 class="help_head3">アンインストール</h3>
	<div class="help_sub_section">
		Win7以降では設定/コントロールパネル等にある「プログラムと機能」から、アンインストール可能です。<br>
		インストール先の setup.exe を使ってアンインストールすることもできます。<br>
		/r /silent とすると、サイレントアンインストールになります。
	</div>
</div>

<a name="usage"/>
<h2 class="help_head2">5. 使用法＆画面説明</h2>
<div class="help_section">
	ウィンドウの最小化で、タスク通知領域に格納します。<br>
	動作中は、各種ステータスが表示されます。<br>
	（ファイル数の括弧内はディレクトリ数を表します）<br>
	<a name="source_dst"/>
	<h3 class="help_head3">Source / DestDir</h3>
	<div class="help_sub_section">
		Source(コピー元) と DestDir(コピー先ディレクトリ) を指定します。<br>
		（デフォルトでは、過去10世代分記憶します）<br>
		Source を複数指定（ドラッグ＆ドロップ可）する場合は、改行して各行にパス名を書きます。<br>
		<br>
		Source へのドラッグ＆ドロップ時に CTLキーを押している場合、現在の Source 内容に追加する形になります。（押していない場合は、現在の Source 内容はクリアされます）<br>
		また、DestDir 入力欄への（ディレクトリの）ドロップも可能です。

		<a name="backslash_behavior"/>
		<h4 class="help_head4">DestDir末尾の '\' の有無による挙動の違い</h4>
		<table class="help_table" border="4">
			<tr><td nowrap><strong>末尾に'\'がある</strong></td><td>
			Source ディレクトリ自体を含めて、DestDir 配下にコピーします。<br>
			<strong>（DestDir\SourceDir\SourceDirの中身）</strong>
			</td></tr>
			<tr><td nowrap><strong>末尾に'\'がない</strong></td><td>
			Source ディレクトリ自体はコピーせず、Source ディレクトリ配下の内容を
			DestDir 配下にコピーします。<br>
			<strong>（DestDir\SourceDirの中身）</strong><br>
			ただし、Sourceに複数のディレクトリを指定した場合は、上記の「'\' がある場合」の動作になります。
			</td></tr>
		</table>
		<br>
		<strong>（ミニ知識）</strong> ディレクトリ内容をドライブ直下にコピーしたい場合は、Source の末尾に '*' を付与します。
		たとえば、Source を "C:\Folder1\*"、DestDir を "D:\" とした場合、結果は "D:\(Folder1の中身)" となります。
	</div>

	<a name="mode"/>
	<h3 class="help_head3">動作モード</h3>
	<div class="help_sub_section">
		<table class="help_table" border="4">
		<tr><th>モード</th><th>動作内容</th>
		<tr><td nowrap><strong>差分（上書きなし）</strong></td>
		  <td>同じファイル名がある場合、コピーしません。</td></tr>
		<tr class="tr_default"><td nowrap><strong>差分（サイズ・日付）</strong></td>
		  <td>同じファイル名がある場合、サイズもしくは日付が違う場合のみ、コピーします。（デフォルト）</td></tr>
		<tr><td nowrap><strong>差分（最新日付）</strong></td>
		  <td>同じファイル名がある場合、日付が新しい場合のみ、コピーします。</td></tr>
		<tr><td nowrap><strong>コピー（全上書き）</strong></td>
		  <td>常に上書きコピーします。</td></tr>
		<tr><td nowrap><strong>同期（サイズ・日付）</strong></td>
		  <td>同じファイル名がある場合、サイズもしくは日付が違う場合のみ、コピーします。
		  さらにコピー元に存在しない、コピー先ファイル（＆ディレクトリ）をすべて強制削除します。</td></tr>
		<tr><td nowrap><strong>移動（全上書き）</strong></td>
		  <td>上書きコピーした上で、コピー元を全削除します。<br>
			（一般設定→「コピー・移動設定」にて「移動（サイズ・日付）」に変更することができます）</td></tr>
		<tr><td nowrap><strong>全削除</strong></td>
		  <td>指定されたファイル（＆ディレクトリ）を全て強制削除（＝読み取り専用属性がついたファイルも属性をクリアした後、削除）します。</td></tr>
		</table>
	</div>

	<a name="buttons"/>
	<h3 class="help_head3">ボタン＆オプション指定</h3>
	<div class="help_sub_section">
		<a name="mainwin"/>
		<table class="help_table" border="4">
		<tr><td nowrap><strong>実行</strong></td>
		<td>コピー動作を実行します。実行中は、中断...ボタンに変化します。<br>
		・<strong>CTLキーを押しながら実行を押す</strong>とソース一覧が表示された確認ダイアログが出てきます。</td></tr>
		<tr><td nowrap><strong>リストアップ</strong></td>
		<td>コピー＆削除される（予定の）ファイルを、リストアップして表示します。頭に '+' は作成・更新され、'-' は削除されます。<br>
		・<strong>CTLキーを押しながらリストアップを押す</strong>（ボタン名「リストアップ」→「リストアップ+V」）と、スキップ対象（ただしフィルタ除外は除く）のファイルペアについて、読み込み＆ハッシュ値比較を行います。<br>
		・<strong>SHIFTキーを押しながらリストアップを押す</strong>と（ログ設定でファイルログを有効にしている場合）リストアップ内容がファイルログに記録されます。（ログ設定でファイル日付・サイズ記録オプションを設定している場合、それらも表示・記録されます）
		</td></tr>
		<tr><td nowrap><strong>Buffer 指定</strong></td>
		<td>Read/Write に使う、バッファサイズを表示します。クリックすると設定が表示されます</td></tr>
		<tr><td nowrap><strong>速度コントロール</strong></td>
		<td>最大(Full Speed)、自動速度制限(Auto Slow)(*1)、速度指定(90%〜10%)、停止(Suspend) を指定することができます。重いと感じる場合は「自動速度制限」を試すと良いでしょう（マウスや最前面ウィンドウの変化を検知すると、一定時間、遅くします）。また「最大」以外の場合は、プロセス優先度クラスを「低」に落とします。（<a href="#job">ジョブ管理</a>での保存項目対象にはなりません）</td></tr>
		<tr><td nowrap><strong>エラー時継続</strong></td>
		<td>Read/Write/Delete等で、エラーが発生しても、中断せず、可能な限り動作を続けます。<br>
		（ただし、エラー表示欄やエラーログには残ります）</td></tr>
		<tr><td nowrap><strong>ベリファイ</strong></td>
		<td><a name="hash_mode"/>xxHash (MD5/SHA-1/SHA-256) による書き込みデータのベリファイを行います。<br>
		（MD5/SHA-1/SHA-256 を利用する場合は、設定の<a href="#setting_copyopt">コピー・移動関連オプション</a>から変更できます。
		安全性としてはxxHash で十分ですが、ログに記録されるハッシュ値を別用途で利用したい場合にお使いください）<br><br>
		 なお、具体的には、次のような比較を行います。<br>
		 Read(Src) -> xxHash(Src) -> Write(Dst) -> Read(Dst) -> xxHash(Dst) -> xxHash比較(Src/Dst) <br>
		 （各ステージが、複数のファイルを跨ったパイプラインのように並列して処理されます）
		 <br><br>
		ベリファイエラーが発生した場合、コピー元・先のハッシュ値を表示した上で、コピー先のファイル名に.fc_verify_errを付与したものに変更します。<br>
		（設定で、削除動作にすることもできます）

		 </td></tr>
		<tr><td nowrap><strong>完了時間予測</strong></td>
		<td>コピー開始前に、総ファイル数・総ファイルサイズを調べることで、完了時間を予測します。
（なお、削除モードでの予測はできません。また、移動モードの場合、削除時間は予測に含んでいません）</td></tr>
		<tr><td nowrap><strong>直ちに開始</strong></td>
		<td>他の FastCopy が実行中の場合に、その完了を待つことなく、直ちに実行を開始します。（なお、他の FastCopy がコピー・移動中でない場合、このボタンは現れません）（<a href="#setting_parallel">同時実行</a>）</strong></td></tr>
		</table>
		（*1)FastCopy がアクティブでない状態でマウス移動を検出すると速度制限します。具体的には、I/O 動作の合間にウェイトを入れる、プロセス優先度を下げる、I/O優先度を下げる、最大I/Oサイズを1MBに低下させる、等により動作速度を制限します。なお、動作内容は、将来、変更される可能性があります<br>

		<br>
		<a name="options"/>
		<table class="help_table" border="4">
		<tr><td><strong>ACL属性</strong></td>
		<td>NTFS のアクセスコントロールリスト(ACL)をコピーします。<br>
			<strong>（ACLコピーは<a href="#elevate">特権</a>に昇格した状態で実行することを推奨します）</strong><br>
			拡張属性(EA)も（存在すれば）コピーします。</td></tr>
		<tr><td><strong>副次Stream</strong></td>
		<td>NTFS の副次ストリーム(Alternate Stream)をコピーします</td></tr>
		<tr><td><strong>復元無効化（上書き後に削除）</strong></td>
		<td>削除する前に、対象ファイルをリネームした後、ランダムデータで上書きすることで削除ファイルの復元を実質的に無効化します。なお、副次ストリームの上書きは行いません）なお、復元できない保証はありませんのでご注意</td></tr>
		</table>
	</div>

	<a name="filter"/>
	<h3 class="help_head3">フィルタ指定</h3>
	<div class="help_sub_section">
		マッチするファイル/ディレクトリのみをコピーしたり、除外することができます。<br>
		（リストアップボタンで、事前に動作を確認しておくと便利です）<br>
		<br>
		<table class="help_table" border="4">
		<tr><td><strong>Include</strong></td>
		<td>指定文字列（<a href="#wild_card">UNIXワイルドカード形式</a>可）にマッチするファイルやディレクトリ配下のみをコピー対象にします。（<a href="#filter_ps">備考</a>）<br>
		複数指定する場合は、セミコロンで区切ります。ディレクトリを指定する場合は、文字列の末尾に '\' を付与します。<br>
		（例： *.txt; My Folder[0-9]\）<br>
		<strong>ver3.0 以降から、<a href="#long_filter">相対パス指定</a>ができるようになりました。</strong></td></tr>
		<tr><td><strong>Exclude</strong></td>
		<td>Include の反対で、マッチするファイル・ディレクトリを除外します。</td></tr>
		<tr><td colspan="2"><strong>以下のフィルタは、設定→拡張フィルタ表示を有効にした場合のみ表示されます</strong></td></tr>
		<tr><td><strong>FromDate</strong></td>
		<td>指定日時（<a href="#date_filter">書式</a>）以降の更新タイムスタンプを持つファイルを対象とします。<br>
		書式は絶対日付指定("20150701" or "2016/09/26 12:30:59" 等)以外に、相対日付も<a href="#date_filter">可能</a>です(10日前: '-10D')</td></tr>
		<tr><td><strong>ToDate</strong></td>
		<td>指定日時以前の更新タイムスタンプを持つファイルを対象とします。</td></tr>
		<tr><td><strong>MinSize</strong></td>
		<td>指定サイズ以上のファイルを対象とします。末尾に K/M/G/T を付与することで、サイズの略記表記可能です。</td></tr>
		<tr><td><strong>MaxSize</strong></td>
		<td>指定サイズ以下のファイルを対象とします。</td></tr>
		</table>
		<br>
		<a name="filter_ps"/>
		備考１）削除モードで、Include に「ファイル指定あり＆ディレクトリ指定なし」の場合にディレクトリ削除しません。<br>
		備考２）ファイルを1つ以上指定した場合、マッチしないファイルはコピーされません。<br>
		備考３）ディレクトリを1つ以上指定した場合、マッチしないディレクトリ配下以外はコピーされません。<br>
		<br>

		<a name="long_filter"/>
		<table class="help_table" border="4">
		<tr><td><strong>相対パス指定</strong></td><td>
			Include/Exclude の先頭文字が \ でない場合、相対パス指定となり、パスの末尾方向からの一致を検索します。<br>

			<table class="help_table_mini" border="1">
			<tr class="tr_default"><td colspan="2"><strong>ディレクトリの Include指定の例</strong></td></tr>
			<tr><td>Source指定</td><td>C:\dir\</td></tr>
			<tr><td>Include指定</td><td>subdir[1-9]\xxx\</td></tr>
			<tr><td>マッチ例</td><td>
				C:\dir\subdir2\xxx\ や <br>
				C:\dir\aaa\subdir3\xxx\ など
			</td></tr>
			<tr><td>効果</td><td>マッチしたディレクトリとその配下全てがコピーされます。</td></tr>
			</table>

			<table class="help_table_mini" border="1">
			<tr class="tr_default"><td colspan="2"><strong>ファイルの Include指定の例</strong></td></tr>
			<tr><td>Source指定</td><td>C:\dir\</td></tr>
			<tr><td>Include指定</td><td>subdir[1-9]\file.*</td></tr>
			<tr><td>マッチ例</td><td>
				C:\dir\aaa\subdir9\file.txt や<br>
				C:\dir\bbb\ccc\subdir9\file.doc など
			</td></tr>
			<tr><td>効果</td><td>マッチしたファイルがコピーされます。</td></tr>
			</table>

		</td></tr>
		<tr><td><strong>前方一致指定</strong></td><td>
			Include/Exclude の先頭文字が \ ではじまる場合、前方一致指定となり、パスの先頭方向（下記、フィルタ検査の開始点を参照）からの一致を検索します。<br>

			<table class="help_table_mini" border="1">
			<tr class="tr_default"><td colspan="2"><strong>ディレクトリの Include指定の例</strong></td></tr>
			<tr><td>Source指定</td><td>C:\dir\</td></tr>
			<tr><td>Include指定</td><td><strong>\</strong>subdir[1-9]\xxx\</td></tr>
			<tr><td>マッチ例</td><td>
				C:\dir\subdir2\xxx\ や <br>
				C:\dir\subdir3\xxx\ など。
			</td></tr>
			<tr><td>効果</td><td>マッチしたディレクトリとその配下全てがコピーされます。</td></tr>
			<tr><td>備考（マッチしない例）</td><td>
				C:\dir\aaa\subdir2\xxx\ など、階層が違うもの。
			</td></tr>
			</table>

			<table class="help_table_mini" border="1">
			<tr class="tr_default"><td colspan="2"><strong>ファイルの Include指定の例</strong></td></tr>
			<tr><td>Source指定</td><td>C:\dir\</td></tr>
			<tr><td>Include指定</td><td><strong>\</strong>subdir[1-9]\file.*</td></tr>
			<tr><td>マッチ例</td><td>
				C:\dir\subdir2\file.txt や<br>
				C:\dir\subdir9\file.doc など
			</td></tr>
			<tr><td>効果</td><td>マッチしたファイルがコピーされます。</td></tr>
			<tr><td>備考（マッチしない例）</td><td>
				C:\dir\aaa\subdir9\file.txt など、階層が違うもの。
			</td></tr>
			</table>

		</td></tr>
		<tr><td><strong>フィルタ検査の開始位置</strong></td><td>
			Source指定が<br>
			C:\src\;<br>
			C:\src\file.txt;<br>
			C:\src\dir*<br>
			のいずれかの場合、フィルタ検査の開始位置（先頭）は<br>
			C:\src\ の次の文字からになります。（C:\src\ まではフィルタ検査範囲に入りません）
		</td></tr>
		</table>
		<br>

		<a name="wild_card"/>
		<strong>Include / Exclude フィルタ指定で使用可能なワイルドカード書式</strong>
		<table class="help_table" border="4">
		<tr><td>*</td><td>0文字以上の任意の文字</td>
		<tr><td>?</td><td>1文字の任意の文字</td>
		<tr><td>[abc]</td><td>abc のどれか 1文字</td>
		<tr><td>[!abc]</td><td>abc のどれか 1文字以外。'!' の代わりに '^' でも可</td>
		<tr><td>[a-z]</td><td>a-z までの任意の1文字</td>
		<tr><td>\</td><td>先頭の\は前方一致指定を意味します。パス途中の\はディレクトリ区切りを意味します。末尾の\はディレクトリ指定を表します。<br>
			[] の中で\はエスケープ文字になります。例えば "["や"]"をファイル名文字の一部として指定したい場合は、[\[] などとします</td>
		</table>
		<br>

		<a name="date_filter"/>
		<strong>FromDate/ToDate フィルタ指定の書式</strong>
		<table class="help_table" border="4">
		<tr><td>絶対日時指定</td><td>日時を YYYYMMDD[hhmmss] もしくは YYYY/MM/DD [hh:mm:ss] で指定</td>
		<tr><td>相対日時指定</td><td>-10D（10日前）などのように、"+|- 数字 W|D|h|m|s" の書式で指定します。<br>W|D|h|m|s はそれぞれ、週、日、時、分、秒を表します。<br><strong>（大文字小文字を区別します）</strong></td>
		</table>
	</div>

	<a name="reparse"/>
	<h3 class="help_head3">ジャンクション・シンボリックリンク</h3>
	<div class="help_sub_section">
		v1.70から、ジャンクション（含むマウントポイント）・シンボリックリンクを認識するようになりました。<br>
		<table class="help_table" border="4">
		<tr><th>モード</th><th>動作内容</th>
		<tr><td nowrap><strong>差分・コピー</strong></td>
		  <td>デフォルトでは、ジャンクション・シンボリックリンク自体をコピーします。<a href="#setting_copyopt">設定</a>で指す先をコピーする挙動を変えることもできます（<a href="#junction_ps">注意</a>）。</td></tr>
		<tr><td nowrap><strong>移動</strong></td>
		  <td>常に、ジャンクション・シンボリックリンク自体を移動します。</td></tr>
		<tr><td nowrap><strong>削除</strong></td>
		  <td>常に、ジャンクション・シンボリックリンク自体を削除します。</td></tr>
		</table>
	</div>

	<a name="hardlink"/>
	<h3 class="help_head3">ハードリンク</h3>
	<div class="help_sub_section">
		v1.95から、<a href="#linkdest">/linkdest</a> を指定して起動したときのみ、ハードリンクを再現することが可能になりました。<br>
		（実行時の TotalFiles: 表示が、"ファイル数（ディレクトリ数）" から "ファイル数/ハードリンク数（ディレクトリ数）" に変化します）<br>
		<br>
		注意点は以下の２つです。<br>
		１．ハードリンク実体1万ファイルあたり、2-4MB程度メモリを消費します（パス長に依存）。<br>
		２．差分コピー動作が遅くなります。（リンクカウンタ取得用にスキップ対象のファイルもオープンするため）。<br>
		<br>
		/linkdest 指定した場合、<a href="#recreate">/recreate</a> オプション相当の動作が常に有効になります。<br>
		常時、ハードリンク再現を有効にしたい場合、fastcopy2.ini [main] linkdest=1 にします。
	</div>

	<a name="menus"/>
	<h3 class="help_head3">メニュー項目</h3>
	<div class="help_sub_section">
		<h4 class="help_head4">ファイル(F)</h4>
		<div class="help_sub_section">
			<table class="help_table" border="3">
			<tr><td nowrap><strong>ログを開く</strong></td><td>fastcopy.logを開きます</td></tr>
			<tr><td nowrap><strong>最終ファイルログ</strong></td>
				<td>「<a href="#setting_log">ファイルログを記録する</a>」をチェックしている場合に最後に実行したファイルログを表示します</td></tr>
			<tr><td nowrap><strong>FastCopyDir</strong></td><td>fastcopy.log や fastcopy2.ini が置かれているディレクトリを開きます</td></tr>
			<tr><td nowrap><strong>起動時位置にする</strong></td><td>起動時に、常に現在の位置で開くようにします</td></tr>
			<tr><td nowrap><strong>起動時サイズにする</strong></td><td>起動時に、常に現在のサイズで開くようにします</td></tr>
			<tr><td nowrap><strong>常に最前面に表示</strong></td><td>常に最前面に表示します。</td></tr>
			<tr><td nowrap><strong>閉じる</strong></td><td>FastCopyを終了します</td></tr>
			</table>
		</div>
		<h4 class="help_head4">ヘルプ</h4>
		<div class="help_sub_section">
			<table class="help_table" border="3">
			<tr><td nowrap><strong>ヘルプ</strong></td><td>このヘルプを開きます</td></tr>
			<tr><td nowrap><strong>アップデート確認</strong></td>
				<td><a href="https://fastcopy.jp/fastcopy-update.dat">https://fastcopy.jp/fastcopy-update.dat</a> にアクセスして、アップデートが存在するか問い合わせます。</td></tr>
			<tr><td nowrap><strong>サポート掲示板</strong></td><td>FastCopy関連の質問や提案をする掲示板です</td></tr>
			<tr><td nowrap><strong>最新版URL</strong></td><td>FastCopyのホームページを開きます</td></tr>
			<tr><td nowrap><strong>FastCopyについて</strong></td><td>バージョン＆著作権を表示します</td></tr>
			</table>
		</div>
		<a name="elevate">
		<h4 class="help_head4">特権</h4>
		<div class="help_sub_section">
			特権（管理者権限）を取得します。特権状態の場合は表示されません。その場合、タイトルバーに (Admin) の表示が出ます。
		</div>
		<h4 class="help_head4">上記以外の項目</h4>
		<div class="help_sub_section">
			<a href="#job">ジョブ管理(F)</a> <a href="#settings">設定(S)</a>
		</div>
	</div>
</div>

<a name="settings"/>
<h2 class="help_head2">6. 設定</h2>
<div class="help_section">
	<a name="gen_settings"/>
	<h3 class="help_head3">設定 → 一般設定</h3>
	<div class="help_sub_section">
		FastCopy の一般設定（各種デフォルト値、I/Oパラメータ、ログ記録等）を行います。
		<a name="setting_default"/>
		<h4 class="help_head4">デフォルト設定</h4>
		<div class="help_sub_section">
		起動画面のデフォルト値を指定します。<br>

		<table class="help_table" border="4">
		<tr><td nowrap><strong>メイン画面のデフォルト値</strong></td><td>項目説明は <a href="#mainwin">こちら</a>をご覧ください。</td></tr>
		<tr><td nowrap><strong>Language</strong></td><td>表示言語を変更します（再起動後に有効になります）</td></tr>
		</table>
		</div>

		<a name="setting_io"/>
		<h4 class="help_head4">I/O設定</h4>
		<div class="help_sub_section">
			I/O用の基本パラメータ設定を行います。

			<table class="help_table" border="4">
			<tr><td nowrap><strong>メインバッファサイズ(MB)</strong></td><td>Read/Writeで使うメインバッファを指定します。
				</td></tr>
			<tr><td nowrap><strong>I/O単位(MB)</strong></td><td>1回にOSにリクエストするReadFile/WriteFileのサイズを指定します<br>
				「I/O単位 * 非同期I/O発行数」が、OS内で同時に実行される「最大I/Oサイズ」になります。<br>
				なお、手元での実験では I/O単位を2〜4MB以上に大きくするとネットワークドライブでの転送速度が少し低下するため、1MBを推奨値としています。<br>
				この値（と下記の非同期I/O発行数）を極端に大きくすると、カーネル内リソース不足で I/Oエラーになることがあります。
				</td></tr>
			<tr><td nowrap><strong>非同期I/O発行数</strong></td><td>ReadFile/WriteFile API発行毎に完了を待たず、並行してAPIを発行することで（特にネットワークドライブに対する）I/O速度を向上させています。<br>
			（<strong>なお、この数を1にすると非同期I/Oを使いません</strong>）</td></tr>
			<tr><td nowrap><strong>最小セクタ長を4KBと見なす</strong></td><td>書き込み側ルートディレクトリは512byteセクタでかつ、（ジャンクション等により）配下ディレクトリが4KBセクタに変化する場合に ON にします。<br>
			（ONにすると、1byteファイルにも常に4KBバッファを用意するため、小容量ファイルでのバッファ利用効率が若干下がります。なお、読み込み側ドライブ側セクタサイズ変化は自動追随するため、チェックは不要です）</td></tr>
			</table>
			<br>

			<table class="help_table" border="4">
			<tr><th colspan="2">OSキャッシュ設定</th></tr>
			<tr><td nowrap><strong>読込み側OSキャッシュ利用</strong></td><td>読み込み時に<strong>ダイレクトI/Oを使いません</strong>。<br>
				転送速度が遅くなったり、OSのファイルキャッシュによって、他のプログラムのメモリがスワップアウトされる可能性が増えるのでお薦めしません。</td></tr>
			<tr><td nowrap><strong>NTFS系/FAT系</strong></td><td>指定サイズ未満の書込み時に<strong>ダイレクトI/Oを使いません</strong>。<br>
読込みOSキャッシュを利用と同じデメリットがありますが、ごく小さなファイルに限ってはヘッドシークの低減によって高速化につながるため、デフォルトではNTFS64KB未満、FATでは128KB未満では利用する設定になっています。</td></tr>
			</table>
			<br>

			<table class="help_table" border="4">
			<tr><th colspan="2">ディレクトリ読み取り</th></tr>
			<tr><td nowrap><strong>一括読み取りを有効にする</strong></td><td><a href="https://msdn.microsoft.com/ja-jp/library/windows/desktop/aa364419(v=vs.85).aspx" target="_blank">FIND_FIRST_EX_LARGE_FETCH</a>フラグを有効にして、ディレクトリエントリの読み取り速度を向上させます。</td></tr>
			</table>
		</div>

		<a name="setting_physical"/>
		<h4 class="help_head4">ドライブグループ</h4>
		<div class="help_sub_section">
			同じHDD(or SSD)に属するドライブを明示的にグループ化します。(<a href="#setting_physical_ps">*1</a>)<br>
				FastCopy は通常、物理ドライブグループを自動判定しますが、RAIDやTrueCryptのように正確な判定が難しいドライブは手動で明示的に設定します。<br>
			<table class="help_table" border="4">
			<tr><th colspan="2">物理ドライブグループの手動指定</th></tr>
			<tr><th>概要</th><td>どのドライブ同士が同じHDD(or SSD)かを手動で指定します。<br>
				</td></tr>
			<tr><th nowrap>指定方法</th><td>C:とD:が同じHDDで、E:とF:が同じHDDであるとき、"CD,EF" と指定します。<br>
				なお、UNCパス名のドライブに関してはドライブレターを割り当てるか、下の判定ポリシー指定を行ってください</td></tr>
			</table>
			<br>

			<table class="help_table" border="4">
			<tr><th colspan="2">ネットワークドライブの物理ドライブグループ判定ポリシー</th></tr>
			<tr><th>概要</th><td>どのネットワークドライブ同士が同じHDD(or SSD)に属するかのポリシーを設定します。<br>
					ドライブレターを割り当てたネットワークドライブもマウントの際に使った UNC名で判定します。(<a href="#setting_physical_ps2">*2</a>)<br>
				</td></tr>
			<tr><th>同じUNC共有名＝同一物理ドライブグループ</th><td>UNC名が \\Server1\vol1\ とした場合、\\Server1\vol1\ が一致するUNC名を同一HDDと見做し、\\Server1\vol2\ は別のHDDと見做します</td></tr>
			<tr><th>同じUNCサーバ名＝同一物理ドライブグループ</th><td>UNC名が \\Server1\vol1\ とした場合、\\Server1\ が一致するUNC名を同一HDDと見做し、\\Server2\... は別のHDDと見做します</td></tr>
			<tr><th>全てのUNC共有名＝同一物理ドライブグループ</th><td>すべてのネットワークドライブを同一HDDと見做します</td></tr>
			</table>
			<a name="setting_physical_ps">
			(*1) パーティションを分けた同一HDDに対して、同時に Read と Write を発行するとヘッドシーク多発等により、かえって遅く＆HDDの機械寿命にも悪影響を与えるため、同一HDDモードと別HDDモードを識別して、<a href="#disk_mode">動作を変化</a>させています<br>
			<a name="setting_physical_ps2">
			(*2) ネットワーク速度が十分でない場合は「全てのUNC共有名＝同一物理ドライブグループ」を選び、ネットワークの輻輳を避ける方が安定した転送ができる場合があります
		</div>

		<a name="setting_parallel"/>
		<h4 class="help_head4">同時実行</h4>
		<div class="help_sub_section">
			FastCopy の同時実行数を設定します。<br>
			並列動作する場合、CPU、メモリを動作数分、必要とします。<br>
			物理メモリが十分確保できない場合、却って動作が遅くなる場合があります。<br>
			<table class="help_table" border="4">
			<tr><th>FastCopy の最大同時実行数</th><td>複数起動した FastCopy について、並列動作を許容するプロセス数を設定します。<br>
			なお、<strong>他のFastCopyが同一HDDを処理中</strong>の場合は、同時実行最大数以下であっても当該FastCopyの終了を待ってから実行開始します。<br>
			同一HDD判定の手動設定は「ドライブグループ設定」から行えます。
			</td></tr>
			<tr><td><strong>他のFastCopyが動作中の場合も、直ちに実行開始する</strong></td><td>同時実行数設定や他のFastCopyの同一HDD利用を無視して、常に無条件に即実行します</td></tr>
			</table>
		</div>

		<a name="setting_copyopt"/>
		<h4 class="help_head4">コピー・移動関連オプション</h4>
		<div class="help_sub_section">
			コピー・移動関連オプションです。
			<table class="help_table" border="4">
			<tr><td><strong>フィルタ使用時、空ディレクトリは作成しない</strong></td>
			  <td>フィルタ適用の結果、コピーすべきファイルが無かったディレクトリは作成しません</td></tr>
			<tr><td><strong>コピー元と同一ディレクトリへのコピーはリネームして動作継続</strong></td>
			  <td>コピー元と同一ディレクトリへのコピーの場合、ディレクトリ名の末尾に(1)などを付与してコピーします</td></tr>
			<tr><td><strong>Junction/Symlink は（実体/配下ではなく）それ自体をコピー</strong></td>
			  <td>ジャンクション・シンボリックリンクはそのままジャンクション・シンボリックリンク自体を複製します（デフォルト）。
					チェックを外すと指し示す先のファイルやディレクトリ配下をコピーします。（<a href="#junction_ps">注意 *1</a>）<br>
					（移動・削除動作では設定に関わらず常にONとなります）<br>
					なお、シンボリックリンクの作成には特権（管理者権限）が必要となります。</td></tr>
			<tr><td><strong>「移動（全上書き）」を「移動（日付・サイズ）」 に変更</strong></td>
			  <td>移動先に日付・サイズが同じファイルがある場合、コピーすることなく移動元から削除します</td></tr>
			<tr><td><strong>移動を逐次方式に</strong></td><td>通常は移動予定リスト（数千〜数万ファイル）が一杯にならない限り、コピー元の削除を始めませんが、これをチェックするとファイルコピー終了毎に終わり次第（なるべく）即座にコピー元を削除します</td></tr>
			<tr><td  nowrap><strong>移動（ベリファイ時）</strong></td><td>上と同じ動作ですが、ベリファイが終わり次第、となります</td></tr>
			<tr><td><strong>タイムスタンプ比較時の許容誤差</strong></td><td>差分（日付・サイズ）や差分（最新日付）で、src/dst の更新日付差の許容時間を指定します。<br>
			通常はファイルシステム種類に基づくタイムスタンプ精度（NTFS=100ns単位、FAT=2秒単位等）の差を自動補正して判定しますが、一部のNAS等で秒未満の更新日付が正確でない環境では手動で同一と見做す更新日付の許容範囲を設定してください。（msec単位）</td></tr>
			<tr><td  nowrap><strong>ハッシュ方式（ベリファイ用）</strong></td><td>ベリファイ用ハッシュ方式(xxHash/MD5/SHA-1/SHA-256)を選択します</td></tr>
			<tr><td  nowrap><strong>ベリファイエラー時、<br>.fc_verify_errにリネームせず、ファイルを削除</strong></td><td>（左に同じ）</td></tr>
			</table>
			<a name="junction_ps">
			<strong>（*1）</strong>例えば "C:\Users\(user)\AppData\Local\Applicatoin Data" は "C:\Users\(user)\AppData\Local" を指しています。これを「実体/配下コピー」すると無限に再帰します。（C:\Users\(user)\AppData\Local\Applicatoin Data\Applicatoin Data\Applicatoin Data\…）。従い、実体/配下コピーを有効にする場合は注意が必要です。
		</div>

		<a name="setting_del"/>
		<h4 class="help_head4">削除関連オプション</h4>
		<div class="help_sub_section">
			削除関連オプションです。
			<table class="help_table" border="4">
			<tr><td><strong>フィルタ指定での削除時にもディレクトリ削除する</strong></td>
			  <td>デフォルトでは Include指定にファイルのみが指定されディレクトリ指定がない場合、ディレクトリを削除しません。<br>
				これをチェックすると、常にディレクトリも削除します。（<a href="#filter_ps">注意</a>）</tr>
			<tr><td><strong>復元無効化にNSA方式を使う （３回上書きのためとても遅い）</strong></td>
			  <td>復元無効化をON（＝削除する前にランダムデータで１回上書き＆ファイル名をリネーム後に削除）にした際、１回ではなく、３回上書きします（２回ランダムなデータで上書きした後、最後に 0 で１回上書き）。</td></tr>
			</table>
		</div>

		<a name="setting_log"/>
		<h4 class="help_head4">ログ設定</h4>
		<div class="help_sub_section">
			ログ関連オプションです。
			<table class="help_table" border="4">
			<tr><td nowrap><strong>Source/DestDir の履歴数</strong></td><td>再起動後に有効です</td></tr>
			<tr><td nowrap><strong>エラーログを記録</strong></td><td>エラーログをfastcopy.logに記録します</td></tr>
			<tr><td nowrap><strong>ログはUTF-8を利用</strong></td><td>文字コードにUTF-8を使います。チェックを外すとSJISで記録します。</td></tr>
			<tr><td nowrap><strong>ファイルログを記録する</strong></td><td>コピー毎に、Log\日付.logファイルを作成し、コピーしたすべてのファイル名やエラーを記録します
				<table class="help_table" border="2">
				<tr><td nowrap><strong>ファイル日付</strong></td><td>ファイル更新日付も記録します</td></tr>
				<tr><td nowrap><strong>ファイルサイズ</strong></td><td>ファイルサイズも記録します</td></tr>
				</table>
			</td></tr>
			<tr><td nowrap><strong>ACLエラーをログに記録する</strong></td><td>非NTFS環境（Samba等）や非特権状態では大量にエラーログが出ることがあります</td></tr>
			<tr><td><strong>副次Streamエラーをログに記録する</strong></td><td>Samba環境（Samba等）では大量にエラーログが出ることがあります</td></tr>
			</table>
			<br>
			ログ内に出てくる記号の意味について。
			<table class="help_table" border="4">
			<tr><td nowrap>+</td><td>ファイル/ディレクトリの作成</td></tr>
			<tr><td nowrap>-</td><td>ファイル/ディレクトリの削除</td></tr>
			<tr><td nowrap>-&gt;</td><td>シンボリックリンク/ジャンクションの作成</td></tr>
			<tr><td nowrap>=&gt;</td><td>ハードリンクの作成</td></tr>
			<tr><td nowrap>!!</td><td>ベリファイエラー（ハッシュ値の不一致）</td></tr>
			</table>

		</div>

		<a name="setting_shell"/>
		<h4 class="help_head4">シェル拡張</h4>
		<div class="help_sub_section">
			シェル拡張を行います。<br>
			通常起動すると個人用拡張となり、管理者権限で起動すると全ユーザ向け拡張になります。
		</div>

		<a name="setting_tray"/>
		<h4 class="help_head4">最小化時の設定</h4>
		<div class="help_sub_section">
			最小化時に、タスクトレイを使うか、タスクバーを使うかを選択します。<br>
		</div>

		<a name="setting_misc"/>
		<h4 class="help_head4">その他</h4>
		<div class="help_sub_section">
			その他のオプションです。
			<table class="help_table" border="4">
			<tr><td nowrap><strong>起動時にアップデート確認</strong></td><td>引数なしで起動した時に、最新版が存在するか確認します（前回の確認から1日以上経過している時のみ）</td></tr>
			<tr><td nowrap><strong>実行前に確認ダイアログ</strong></td><td>実行前に確認します</td></tr>
			<tr><td nowrap><strong>表示更新間隔</strong></td><td>実行時の表示更新時間を指定します。アイコンの回転速度にも同期します</td></tr>
			<tr><td><strong>終了時にバルーン通知</td><td>タスク通知領域格納時に終了をバルーン通知で知らせます</td></tr>
			<tr><td><strong>コピー中は、自動スリープを防止する</td><td>OS設定で自動スリープが設定されていても、コピー中はスリープしません。<br>（ただしエラーダイアログ表示中は移行を防止しません）</td></tr>
			</table>
		</div>
	</div>

	<a name="font"/>
	<h3 class="help_head3">設定 → フォント設定 → メインフォント変更＆リセット</h3>
	<div class="help_sub_section">
		メインウィンドウ中央の情報枠のフォントを変更します。<br>
		各桁を揃えて表示したい場合は、固定ピッチフォントの利用をお勧めします。
	</div>

	<h3 class="help_head3">設定 → 自動/同一/別HDDモード</h3>
	<div class="help_sub_section">
		<a href="#disk_mode">自動/同一/別HDDモード</a>を指定します（デフォルトは自動）。なお、CTL+K で各モードに、順次、切り替えすることもできます。<br>
	</div>

	<a name="finact">
	<h3 class="help_head3">設定 → 終了時処理</h3>
	<div class="help_sub_section">
		終了時処理を選択します。標準、スタンバイ、休止、シャットダウンがデフォルトで用意されています。<br>
		<strong>「追加/変更/削除…」</strong>を選ぶと、サウンド設定やコマンド実行など新しい終了時処理を追加が可能な「終了時処理ウィンドウ」が表示されます。<br>
		<table class="help_table" border="4">
		<tr><th colspan="2">終了時処理ウィンドウ</th></tr>
		<tr><td nowrap><strong>処理名</strong></td><td>標準、スタンバイ、休止、シャットダウンが標準で用意されています。<br>
			新たな名前の終了時処理を作ることも可能です</td></tr>
		<tr><td nowrap><strong>サウンド再生</strong></td><td>終了時に再生します。<br>
			<strong>「エラー発生時のみ実行する」</strong>も選べます</td></tr>
		<tr><td nowrap><strong>コマンド実行</strong></td><td>終了時に実行するコマンドを指定できます。
			メール送信ソフトと組み合わせると有用かもしれません。<br>
			<strong>「実行条件」</strong>として、無条件/正常終了時/エラー終了時、のいずれかを選択できます。<br>
			<strong>「完了を待つ」</strong>をチェックするとコマンドが終了するまで、「シャットダウン/スタンバイ/ハイバネーション」処理に移行しません。</td></tr>
		<tr><th colspan="2">スタンバイ/シャットダウン処理の概要</th></tr>
		<tr><td colspan="2">シャットダウン/スタンバイ/ハイバネーション処理は、動作前に60秒のカウントダウン表示があり、途中キャンセルも可能です。<br>
		また、他の FastCopy が処理中の場合、その完了を待ってから60秒のカウントダウンが始まります。</td></tr>
		<tr><td nowrap><strong>猶予</strong></td><td>実行までのカウントダウン秒数を変更できます（標準60秒）</td></tr>
		<tr><td><strong>エラー発生時には実行しない</strong></td><td>正常終了時のみ実行します</td></tr>
		</table>
	</div>

	<a name="extend_filter">
	<h3 class="help_head3">設定 → 拡張フィルタ表示</h3>
	<div class="help_sub_section">
		拡張フィルタ（タイムスタンプ/サイズフィルタ）を表示します。
	</div>

	<a name="source_swap">
	<h3 class="help_head3">設定 → Source ⇔ DestDir の交換</h3>
	<div class="help_sub_section">
		相互に同期したい場合などのために、Source と DestDir の内容を交換します。その際、<a href="#backslash_behavior">末尾の '\' の有無による挙動の違い</a>などを踏まえて、パス内容を必要に応じて加工します。（例えば、Source: C:\AAA\BBB、DestDir: D:\CCC\ の場合、Source: D:\CCC\BBB、DestDir: C:\AAA\ となります）<br>
		なお、Source が複数指定されている場合は、利用できません。<br>
		CTL+ALT+S でも実行可能です。
	</div>

	<a name="job"/>
	<h3 class="help_head3">ジョブ管理 → ジョブ登録・削除</h3>
	<div class="help_sub_section">
		メインウィンドウの記述内容を、ジョブという単位で、保存＆呼び出しできるようにします。
		<table class="help_table" border="4">
		<tr><td nowrap><strong>追加・更新</strong></td>
		<td>メインウィンドウ内容（Source/DestDir, コマンドモード, フィルタ指定、バッファ指定、エラー時継続オプション、完了時間予測、自動/同一/別HDDモード）にジョブ名を付けて保存・更新します。</td></tr>
		<tr><td nowrap><strong>削除</strong></td>
		<td>選択したジョブを削除します。</td></tr>
		<tr><td nowrap><strong>Windowsタスクスケジューラを起動する</strong></td>
		<td>Windowsタスクスケジューラを起動します。<br>（単なるショートカットであり、タスクスケジューラ登録のアシスト/連携機能は FastCopy側にはありません）</td></tr>
		</table>
	</div>
</div>

<a name="cmdline"/>
<h2 class="help_head2">7. コマンドラインモード</h2>
<div class="help_section">
	基本的な書式は、以下の通りです。<br><br>
	　<strong>fastcopy.exe [/オプション類] file1 file2 ... [/to=dest_dir]</strong><br><br>
	<table class="help_table" border="4">
	<tr><td>GUI モードと違い、区切り文字は空白文字になります。<br>
			空白文字を含むパス名は、"" で括って指定してください</td></tr>
	<tr><td>/to= は必ず末尾で指定します</td></tr>
	<tr><td>実行終了まで待ちたい場合は、start "" /wait fastcopy.exe [/オプション類] ... とします</td></tr>
	</table><br>
	指定可能なオプションは、以下の通りです。（なお、'=' の前後には空白を入れないで下さい）<br><br>

	<div class="help_sub_section">

	<table class="help_table" border="2">
	<tr><td nowarp><strong>/cmd=<br>
		&nbsp;&nbsp;(noexist_only<br>
		&nbsp;&nbsp;|&nbsp;diff<br>
		&nbsp;&nbsp;|&nbsp;update<br>
		&nbsp;&nbsp;|&nbsp;force_copy<br>
		&nbsp;&nbsp;|&nbsp;sync<br>
		&nbsp;&nbsp;|&nbsp;move<br>
		&nbsp;&nbsp;|&nbsp;delete)
		</strong></td>
		<td>動作モード指定。（cmd 指定省略時は diff モード。delete 指定時は、/to=dest_dir は使いません）
		<table class="help_table" border="1">
		<tr><th nowrap>cmdline</th><th>GUIでの表記</th>
		<tr><td nowrap><strong>noexist_only</strong></td><td>差分（上書きなし）</td></tr>
		<tr class="tr_default"><td nowrap><strong>diff</strong></td><td>差分（サイズ・日付）</td></tr>
		<tr><td nowrap><strong>update</strong></td><td>差分（最新日付）</td></tr>
		<tr><td nowrap><strong>force_copy</strong></td><td>コピー（全上書き）</td></tr>
		<tr><td nowrap><strong>sync</strong></td><td>同期（サイズ・日付）</td></tr>
		<tr><td nowrap><strong>move</strong></td><td>移動（全上書き）</td></tr>
		<tr><td nowrap><strong>delete</strong></td><td>全削除</td></tr>
		</table>
	</td></tr>
	<!--
	/cmd_opt=date_size/newer/noexist/always (cmd=diff/sync/move only)
	-->
	<tr><td nowrap><strong>/auto_close</strong></td><td>コピー終了後、自動的に終了します</td></tr>
	<tr><td nowrap><strong>/force_close</strong></td><td>コピー終了後、エラーが発生していた場合も、強制的に終了します</td></tr>
	<tr><td nowrap><strong>/open_window</strong></td><td>タスク通知領域に格納しません（直ちに実行開始しない場合は指定不要）</td></tr>
	<tr><td nowrap><strong>/estimate</strong></td><td>コピー完了時間予測を行います（/estimate=FALSE で抑止）</td></tr>
	<tr><td nowrap><strong>/balloon(=FALSE)</strong></td><td>完了時にバルーン表示を行います（/balloon=FALSE で抑止）</td></tr>
	<tr><td nowrap><strong>/no_ui</strong></td><td><a name="no_ui"/>原則として問い合わせダイアログを出しません。（バックグラウンド動作用。内部的に /no_confirm_del と /no_confirm_stop と /force_close もセットされます。セッション０分離（主にタスクスケジューラ起動）では自動的に/no_uiがセットされます。ただし終了時アクションでのカウントダウンは実スクリーンの有無に関わらず行われます）</td></tr>
	<tr><td nowrap><strong>/no_confirm_del</strong></td><td>/delete 時に、動作開始の問い合わせをしません</td></tr>
	<tr><td nowrap><strong>/no_confirm_stop</strong></td><td>継続不能エラー発生時にも、エラーを出しません</td></tr>
	<tr><td nowrap><strong>/no_exec</strong></td><td>パラメータをメインウィンドウにセットしますが、実行はしません</td></tr>
	<tr><td nowrap><strong>/error_stop</strong></td><td>エラー発生時にダイアログを出し、続行するかを問い合わせます（/error_stop=FALSE で抑止）</td></tr>
	<tr><td nowrap><strong>/bufsize=N(MB)</strong></td><td>バッファサイズを MB 単位で指定します</td></tr>
	<tr><td nowrap><strong>/log</strong></td><td>ログファイル(fastcopy.log) にログを出力します（/log=FALSE で抑止）</td></tr>
	<tr><td nowrap><strong>/logfile=ログファイル名</strong></td><td>ログファイル名を指定します</td></tr>
	<tr><td nowrap><strong>/filelog</strong></td><td>詳細ファイルログを記録します。FastCopy/Log ディレクトリ配下に、日付.log という形式で保存されます。ベリファイ時はハッシュ値も記録されます。（/filelog=filename で指定ファイルに保存可能。ただし、同じファイルを指定して、同時に複数の FastCopy を実行した場合、ログ出力が交互に混じる可能性があります）</td></tr>
	<tr><td nowrap><strong>/utf8</strong></td><td>UTF-8でログを記録します</td></tr>
	<tr><td nowrap><strong>/skip_empty_dir</strong></td><td>フィルタ指定時、空ディレクトリをコピーしません（/skip_empty_dir=FALSE で抑止）</td></tr>
	<tr><td nowrap><strong>/job=ジョブ名</strong></td><td>事前に登録してあるジョブを指定します</td></tr>
	<tr><td nowrap><strong>/force_start(=N)</strong></td><td>他の FastCopy がコピー実行中の場合も直ちに実行します。<br>（/force_start=2〜N で同時実行上限数指定）</td></tr>
	<tr><td nowrap><strong>/disk_mode=<br>&nbsp;&nbsp;(auto|same|diff)</strong></td><td><a href="#disk_mode">自動/同一/別HDDモード</a>を指定します。（デフォルト: auto）</td></tr>
	<tr><td nowrap><strong>/speed=(full|autoslow|<br>&nbsp;&nbsp;9-1(90%-10%)|suspend)</strong></td><td>速度コントロールを行います</td></tr>
	<tr><td nowrap><strong>/srcfile="files.txt</strong></td><td>Source内容をファイルで指定します。１行に１ファイルを記述します。（なお、大量ファイルの指定はお勧めしません）</td></tr>
	<tr><td nowrap><strong>/srcfile_w="files.txt"</strong></td><td>/srcfile= と同様ですが、UNICODE で記述します</td></tr>
	<tr><td nowrap><strong>/include="..."</strong></td><td>Include フィルタを指定します（<a href="#filter">詳細</a>）</td></tr>
	<tr><td nowrap><strong>/exclude="..."</strong></td><td>Exclude フィルタを指定します（<a href="#filter">詳細</a>）</td></tr>
	<tr><td nowrap><strong>/from_date="..."</strong></td><td>更新日付フィルタ（最古）を指定します（<a href="#filter">詳細</a>）</td></tr>
	<tr><td nowrap><strong>/to_date="..."</strong></td><td>更新日付フィルタ（最新）を指定します（<a href="#filter">詳細</a>）</td></tr>
	<tr><td nowrap><strong>/min_size="..."</strong></td><td>サイズフィルタ（最小）を指定します（<a href="#filter">詳細</a>）</td></tr>
	<tr><td nowrap><strong>/max_size="..."</strong></td><td>サイズフィルタ（最大）を指定します（<a href="#filter">詳細</a>）</td></tr>
	<tr><td nowrap><strong>/wipe_del</strong></td><td>削除モード時に、ファイルを削除する前に上書き＆リネームして、復元を無効にします（/wipe_del=FALSE で抑止）</td></tr>
	<tr><td nowrap><strong>/acl</strong></td><td>アクセスコントロールリスト(ACL)、拡張属性(EA)をコピーします（NTFSのみ有効）（/acl=FALSE で抑止）</td></tr>
	<tr><td nowrap><strong>/stream</strong></td><td>副次ストリームをコピーします（NTFSのみ有効）（/stream=FALSE で抑止）</td></tr>
	<tr><td nowrap><strong>/reparse</strong></td><td>ジャンクション・マウントポイント・シンボリックリンクを（配下ではなく）それ自体をコピーします（/reparse=FALSE で配下をコピー）（<a href="#reparse">詳細</a> および <a href="#junction_ps">注意</a>）</td></tr>
	<tr><td nowrap><strong>/verify</strong></td><td><a href="#hash_mode">xxHash(or MD5, SHA-1, SHA-256) </a>による書き込みデータのベリファイを行います（/verify=FALSE で抑止）</td></tr>
	<tr><td nowrap><strong>/linkdest</strong></td><td><a name="linkdest"/>ハードリンクを可能な限り再現します。詳細は <a href="#hardlink">こちらを参照</a> ください。</td></tr>
	<tr><td nowrap><strong>/recreate</strong></td><td><a name="recreate"/>ファイル更新の挙動を、既存ファイルの上書きから、既存ファイル削除＆再生成に変更します。（/linkdest 指定時には、/recreate指定の有無に関わらず、この動作を行います）常時、この動作を有効にしたい場合、fastcopy2.ini [main] recreate=1 にします。</td></tr>
	<tr><td nowrap><strong>/postproc=終了時処理名</strong></td><td>事前に登録してある終了時処理名を指定します。（/postproc=FALSE で抑止）</td></tr>
	</table>
	<br>
	<strong>例）</strong> C:\test 配下を D:\Backup Folder に差分コピーする場合<br>
		　fastcopy.exe /cmd=diff C:\test /to="D:\Backup Folder\"<br>
	<br>
	<strong>終了ステータスについて）</strong> コマンドが成功した場合は 0、失敗した場合は -1 を返します。

</div>


<a name="warning"/>
<h2 class="help_head2">8. 注意（危険なところ）</h2>
<div class="help_section">
	コピー先ファイルは、動作モードに応じて、問い合わせなしに、強制的に上書きすることがあります。<br>
	同期モードでは、状況に応じて、コピー先のファイル＆ディレクトリを強制削除します。<br>
	削除モードでは、ファイル＆ディレクトリを常に強制削除します。<br>
	（強制削除＝読み取り専用属性がついている場合、それをクリアしてから削除）<br>
	<br>
	万一バグがあれば、悲惨な結果になる可能性があります。<br>
	（「<a href="#license">2. ライセンス</a>」を熟読のこと）
</div>


<a name="contact"/>
<h2 class="help_head2">9. サポート掲示板＆最新版</h2>
<div class="help_section">
	サポート掲示板: <a href="https://groups.google.com/forum/?hl=ja#!forum/fastcopy">https://groups.google.com/forum/?hl=ja#!forum/fastcopy</a><br>
	最新版: <a href="https://fastcopy.jp">https://fastcopy.jp</a>
</div>


<a name="misc"/>
<h2 class="help_head2">10. その他（設定保存先等）</h2>
<div class="help_section">
	<li>設定ファイル(<strong>FastCopy2.ini</strong>)およびログファイルは下記に作られます。<br>
	<div class="help_sub_section">
	<strong>Program Files 配下にインストールした場合</strong>、\Users\(USER)\AppData\roaming\FastCopy\（メニューのファイル(F) → UserDir(U)）。<br>
	<strong>それ以外の場合</strong>、FastCopy.exe の存在するディレクトリ。<br>
	</div>
	<li><strong>他のアプリケーション等への組み込みについて</strong><br>
	<div class="help_sub_section">
	高速コピーのコア部分(fastcopy.cpp/h)は、GUI 部分から独立させて作ってあります。<br>
	GPLv3 ライセンスに基づいて、ご自由にお使いください。
	</div>
	<li>万一、異常終了（例外）した場合、fastcopy_exception.log が生成されます。
	（作者に送ると、品質向上のための手がかりになります）
</div>
 
<a name="history"/>
<h2 class="help_head2">11. 履歴</h2>
<div class="help_section">

<table class="help_table" border="4">
<tr><th>Version</th><th>説明</th></tr>

<tr><td>v3.61</td><td>
ACL/副次Streamを有効にした場合に、それらが正しくコピーされない＆例外発生する問題の修正。(v3.60のみ）
</td></tr>

<tr><td>v3.60</td><td>
Sourceオープンのマルチスレッド化。（ネットワークドライブで特に効果）<br>
OneDrive用WevDAVでタイムスタンプが反映するように。<br>
NTFS以外でのハードリンク試行によるエラーを抑止。
</td></tr>

<tr><td>v3.53-v3.54</td><td>
速度コントロール指定をより正確に。<br>
同一HDDモードの性能をわずかに改善。<br>
シェル拡張が有効にならない問題の修正。（v3.53のみ）
</td></tr>

<tr><td>v3.52</td><td>
ハッシュのデフォルトをxxHashに変更。<br>
xxHashベリファイ計算を3〜4倍高速化（1〜2GB/s以上の環境でベリファイ処理ネックが解消）。<br>
インストーラに /SILENT オプション等を追加（/hで確認）。
</td></tr>

<tr><td>v3.51</td><td>
ベリファイエラー時に、.fc_verify_err へのリネームではなく、削除するオプションを追加。<br>
include/excludeフィルターで、ディレクトリ指定とファイル指定を同じ名前を指定すると、最後の指定のみが有効になる問題を修正。<br>
その他リファイン。
</td></tr>

<tr><td>v3.50</td><td>
Source選択ダイアログで、ファイルとフォルダを同時に選択できるように。<br>
I/Oサイズ＆重畳数を適応的に変化させることで、ネットワークドライブのパフォーマンスを向上。<br>
（レイテンシ大の環境では、Explorerや従来版に比べて2倍以上高速に）<br>
最小化時、タスク通知領域にアイコンが隠れる場合はタスクバーに表示するように。<br>
エラー時の終了コードが0（正しくは-1）になっていた問題の修正。<br>
設定類の改良（最小化時の動作の追加、シェル拡張の移動等）<br>
インストーラ方式に変更し、インストーラに「ファイル展開（のみ）」を追加。<br>
例外時にダンプも出力するように。<br>
「アプリと機能」からも、アンインストールできるように。<br>
完了状態をアイコン上部の色でも表現（緑：完了、赤：エラー）。<br>
公式ホームページを <a href="https://fastcopy.jp">https://fastcopy.jp</a> に変更。
</td></tr>

<tr><td>v3.41</td><td>
I/O関連パラメータと設定方法を変更し、特にネットワークドライブでのパフォーマンスを向上。<br>
起動時の自動アップデートチェックの追加（設定→その他、から変更可能）。<br>
削除モードで、コピーモード用オプションが表示されることがあったのを修正。<br>
削除時の「ディレクトリが空でない」エラーが稀に発生していたのを低減（OS側の問題への暫定対処）。<br>
2つ以上の物理HDDを使ったボリュームの、同一/別ドライブ判定が不正確だったのを修正。<br>
その他リファイン。
</td></tr>

<tr><td>v3.40</td><td>
アップデート機能（メニュー → ヘルプ → アップデート確認）の追加。<br>
Source入力欄を複数行表示可能にし（セミコロンではなく）改行で複数ファイルを表現する形に。<br>
予測時間の精度を向上（Sourceに加えて、Destも事前探索する形に）。<br>
Sourceボタンの初期動作をファイル選択画面に変更（設定→その他、から変更可能）。<br>
LargeFetch機能の無効化を選択可能に（設定→I/O設定）。
</td></tr>

<tr><td>v3.32</td><td>
非日本語環境で、Aboutダイアログを開くと例外が発生していたのを修正。<br>
/srcfile_w= で指定したファイルのBOMを正しく認識できていなかったのを修正。
</td></tr>

<tr><td>v3.31</td><td>
メインバッファ初期サイズを拡大（x64:128MB→256MB、x86:64MB→128MB）。<br>
最大属性バッファを拡大（x64:1GB→8GB）。<br>
ベリファイ＆移動用パスバッファを拡大（x64:8MB→128MB）＆ini設定可能に(max_movesize/max_digestsize)<br>
日付判定での許容誤差指定(ms単位)を64bit化（最大23日 → 事実上無制限）<br>
ネットワークファイルでも、巨大ファイルはNOBUFFERING扱いに。<br>
/srcfile=, /srcfile_w= でBOMを許容するように。<br>
転送バッファ分割の改善。<br>
インストーラにおける、DLLプリロード攻撃対策。
</td></tr>

<tr><td>v3.30</td><td>
<a href="#hash_mode">ベリファイモード選択</a>にxxHashを追加。<br>
テスト用ファイル作成モード設定を追加（[読み込みなしでの]非同期I/Oを使った書き込み速度テスト＆ダミーファイル作成）。<br>
<a href="#filter">前方一致フィルタ</a>で、深さの違うフィルタ指定を複数行うと最も深い指定のみ利用される問題を修正。<br>
ネットワークドライブの同一判定を間違えることがあったのを修正。<br>
ジョブ登録では、バッファ設定を個別保存しないポリシーに変更。<br>
その他リファイン
</td></tr>
</table>
<br>

過去のバージョンのサマリ（詳細な情報は<a href="https://fastcopy.jp/help/fc_history.html" target="_blank">こちら</a>）

<table class="help_table" border="4">
<tr><th>Version</th><th>説明</th></tr>
<tr><td>v3.00<br> - v3.27</td><td>
<a href="#setting_io">非同期I/O</a>サポート、<a href="#filter">フィルタ相対パス</a>、<a href="#setting_parallel">同時実行動作の最適化</a>、<a href="#license">GPLv3 に変更</a><br>

ユーザレベル（非管理者）でのシェル拡張を可能に。<br>
ディレクトリ探索の高速化（高レイテンシ環境or大規模エントリ用。FIND_FIRST_EX_LARGE_FETCH利用）。<br>
<a href="#hash_mode">ベリファイモード選択</a>にSHA-256を追加。<br>
テスト用ファイル作成モード設定を追加（[読み込みなしでの]非同期I/Oを使った書き込み速度テスト＆ダミーファイル作成）。
</td></tr>

<tr><td>v2.00</td><td><a href="#job">ジョブ管理</a>、<a href="#setting_copyopt">Symlink対応</a>、<a href="#buttons">簡易比較</a>、<a href="#options">ACL/AltStremサポート</a>、<a href="#buttons">速度コントロール</a>追加等</td></tr>
<tr><td>v1.00</td><td>移動モード、<a href="#shell">シェル拡張</a>追加、英語OS対応等</td></tr>
<tr><td>v0.50</td><td>α版ファーストリリース。 (2004/09/27)</td></tr>
</table>
</div>
</div>
</body>
</html>
